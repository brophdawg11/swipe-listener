(function () {var a={};function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){b(e,t,n[t])})}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=function(e,t){if(e){"undefined"!=typeof window&&function(){if("function"==typeof window.CustomEvent)return!1;function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}();t||(t={}),t=j({},{minHorizontal:10,minVertical:10,deltaHorizontal:3,deltaVertical:5,preventScroll:!1,lockAxis:!0},t);var n=[],o=!1,a=function(e){o=!0};e.addEventListener("mousedown",a);var r=function(e){o=!1,l(e)};e.addEventListener("mouseup",r);var i=function(e){o&&(e.changedTouches=[{clientX:e.clientX,clientY:e.clientY}],c(e))};e.addEventListener("mousemove",i);var l=function(o){if(n.length){for(var a=o instanceof TouchEvent,r=[],i=[],l={top:!1,right:!1,bottom:!1,left:!1},c=0;c<n.length;c++)r.push(n[c].x),i.push(n[c].y);var s=r[0],v=r[r.length-1],h=i[0],u=i[i.length-1],p={x:[s,v],y:[h,u]};if(n.length>1){var d={detail:j({touch:a},p)},f=new CustomEvent("swiperelease",d);e.dispatchEvent(f)}var b=r[0]-r[r.length-1],m="none";m=b>0?"left":"right";var $=Math.min.apply(Math,r),g=Math.max.apply(Math,r);if(Math.abs(b)>=t.minHorizontal)switch(m){case"left":Math.abs($-r[r.length-1])<=t.deltaHorizontal&&(l.left=!0);break;case"right":Math.abs(g-r[r.length-1])<=t.deltaHorizontal&&(l.right=!0);}if(m="none",m=(b=i[0]-i[i.length-1])>0?"top":"bottom",$=Math.min.apply(Math,i),g=Math.max.apply(Math,i),Math.abs(b)>=t.minVertical)switch(m){case"top":Math.abs($-i[i.length-1])<=t.deltaVertical&&(l.top=!0);break;case"bottom":Math.abs(g-i[i.length-1])<=t.deltaVertical&&(l.bottom=!0);}if(n=[],l.top||l.right||l.bottom||l.left){t.lockAxis&&((l.left||l.right)&&Math.abs(s-v)>Math.abs(h-u)?l.top=l.bottom=!1:(l.top||l.bottom)&&Math.abs(s-v)<Math.abs(h-u)&&(l.left=l.right=!1));var w={detail:j({directions:l,touch:a},p)},E=new CustomEvent("swipe",w);e.dispatchEvent(E)}else{var y=new CustomEvent("swipecancel",{detail:j({touch:a},p)});e.dispatchEvent(y)}}},c=function(o){t.preventScroll&&o.preventDefault();var a=o.changedTouches[0];if(n.push({x:a.clientX,y:a.clientY}),n.length>1){var r={detail:{x:[n[0].x,n[n.length-1].x],y:[n[0].y,n[n.length-1].y],touch:o instanceof TouchEvent}},i=new CustomEvent("swiping",r);e.dispatchEvent(i)}},s=!1;try{var v=Object.defineProperty({},"passive",{get:function(){s={passive:!t.preventScroll}}});window.addEventListener("testPassive",null,v),window.removeEventListener("testPassive",null,v)}catch(h){}return e.addEventListener("touchmove",c,s),e.addEventListener("touchend",l),{off:function(){e.removeEventListener("touchmove",c,s),e.removeEventListener("touchend",l),e.removeEventListener("mousedown",a),e.removeEventListener("mouseup",r),e.removeEventListener("mousemove",i)}}}},d=c;a.listen=d;if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=a}else if(typeof define==="function"&&define.amd){define(function(){return a})}else{this["SwipeListener"]=a}})();